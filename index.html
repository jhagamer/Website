<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat App</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-900 text-white">
    <div id="login-form" class="flex items-center justify-center h-screen">
        <div class="w-full max-w-xs">
            <form class="bg-gray-800 shadow-md rounded px-8 pt-6 pb-8 mb-4">
                <div class="mb-4">
                    <label class="block text-gray-300 text-sm font-bold mb-2" for="username">Username</label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="username" type="text" placeholder="Username">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-300 text-sm font-bold mb-2" for="password">Password</label>
                    <input class="shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline" id="password" type="password" placeholder="******************">
                </div>
                <div class="flex items-center justify-between">
                    <button id="login-button" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">Sign In</button>
                </div>
                <p id="error-message" class="text-red-500 text-xs italic mt-4 hidden">Invalid credentials.</p>
            </form>
        </div>
    </div>

    <div id="chat-container" class="hidden flex flex-col h-screen">
        <div class="flex-1 overflow-y-auto p-4" id="chat-history"></div>
        <div class="p-4 bg-gray-800 flex">
            <input id="message-input" type="text" placeholder="Type your message..." class="flex-1 p-2 rounded bg-gray-700 text-white focus:outline-none">
            <button id="send-button" class="ml-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Send</button>
        </div>
    </div>

    <div id="n8n-chat"></div>

    <script src="chat-app.js"></script>
    <script>
        createChat({
            webhookUrl: 'https://n8n-pgfu.onrender.com:443/webhook/a85bc1d4-0ad6-4723-b777-8bb42290656c/chat',
            webhookConfig: {
                method: 'POST',
                headers: {}
            },
            target: '#n8n-chat',
            mode: 'window',
            chatInputKey: 'chatInput',
            chatSessionKey: 'sessionId',
            metadata: {},
            showWelcomeScreen: false,
            defaultLanguage: 'en',
            initialMessages: [
                'Hi there! ðŸ‘‹',
                'My name is Nathan. How can I assist you today?'
            ],
            i18n: {
                en: {
                    title: 'Hi there! ðŸ‘‹',
                    subtitle: "Start a chat. We're here to help you 24/7.",
                    footer: '',
                    getStarted: 'New Conversation',
                    inputPlaceholder: 'Type your question..',
                },
            },
        });
    </script>
</body>

</html>
